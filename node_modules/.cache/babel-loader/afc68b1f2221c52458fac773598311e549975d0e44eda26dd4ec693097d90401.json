{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OneArticlePage=()=>{const{id}=useParams();const[article,setArticle]=useState(null);const[latestArticles,setLatestArticles]=useState([]);useEffect(()=>{const fetchArticle=async()=>{const response=await axios.get(\"https://wowclean-api.vercel.app/api/articles/\".concat(id));setArticle(response.data);};const fetchLatestArticles=async()=>{const response=await axios.get(\"https://wowclean-api.vercel.app/api/articles\");setLatestArticles(response.data.slice(0,5));};fetchArticle();fetchLatestArticles();},[id]);if(!article)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"one-article-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"article-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"article-title\",children:article.title}),/*#__PURE__*/_jsx(\"img\",{className:\"article-image\",src:article.image,alt:article.title}),/*#__PURE__*/_jsx(\"div\",{className:\"article-text\",dangerouslySetInnerHTML:{__html:article.text}}),/*#__PURE__*/_jsxs(\"p\",{className:\"article-meta\",children:[\"Published on: \",article.published_date]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"latest-articles\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Latest Posts\"}),/*#__PURE__*/_jsx(\"ul\",{children:latestArticles.map(latest=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/articles/\".concat(latest.id),children:[/*#__PURE__*/_jsx(\"img\",{src:latest.image,alt:latest.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:latest.title}),/*#__PURE__*/_jsx(\"p\",{children:latest.published_date})]})]})},latest.id))})]})]});};export default OneArticlePage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","jsx","_jsx","jsxs","_jsxs","OneArticlePage","id","article","setArticle","latestArticles","setLatestArticles","fetchArticle","response","get","concat","data","fetchLatestArticles","slice","children","className","title","src","image","alt","dangerouslySetInnerHTML","__html","text","published_date","map","latest","to"],"sources":["/Users/oootlichno/Project/wowclean/frontend/src/pages/oneArticlepage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst OneArticlePage = () => {\n  const { id } = useParams();\n  const [article, setArticle] = useState(null);\n  const [latestArticles, setLatestArticles] = useState([]);\n\n  useEffect(() => {\n    const fetchArticle = async () => {\n      const response = await axios.get(`https://wowclean-api.vercel.app/api/articles/${id}`);\n      setArticle(response.data);\n    };\n\n    const fetchLatestArticles = async () => {\n      const response = await axios.get(`https://wowclean-api.vercel.app/api/articles`);\n      setLatestArticles(response.data.slice(0, 5)); \n    };\n\n    fetchArticle();\n    fetchLatestArticles();\n  }, [id]);\n\n  if (!article) return <div>Loading...</div>;\n\n  return (\n    <div className=\"one-article-page\">\n    <div className=\"article-content\">\n      <h1 className=\"article-title\">{article.title}</h1>\n      <img className=\"article-image\" src={article.image} alt={article.title} />\n      <div className=\"article-text\" dangerouslySetInnerHTML={{ __html: article.text }}></div>\n      <p className=\"article-meta\">Published on: {article.published_date}</p>\n    </div>\n    <div className=\"latest-articles\">\n      <h2>Latest Posts</h2>\n      <ul>\n        {latestArticles.map((latest) => (\n          <li key={latest.id}>\n            <Link to={`/articles/${latest.id}`}>\n            <img src={latest.image} alt={latest.title} />\n            <div>\n              <h3>{latest.title}</h3>\n              <p>{latest.published_date}</p>\n            </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n  );\n};\n\nexport default OneArticlePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}